@model JobsViewModel
@{
    if (Model.errorMessage != null)
    {
        @Model.errorMessage;
    }
    else
    {
        <h2>Job Source: @Model.source</h2>

        <table class="table">
            <thead>
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Company Name</th>
                    <th scope="col">Job Title</th>
                    <th scope="col">Job URL</th>
                </tr>
            </thead>

            <tbody>
                @if (Model.jobLst.Count > 0)
                {
                    @foreach (var job in Model.jobLst)
                    {

                        <tr class="clickable-row btn-light" data-href="@job.JobURL" target="_blank">
                            <th scope="row">@job.ID</th>
                            <td>@job.CompanyName</td>
                            <td>@job.JobTitle</td>
                            <td>@job.JobURL</td>
                        </tr>


                    }
                }
                else
                {
                    <tr>
                    <tr>No jobs today. May be tomorrow.</tr>
                    </tr>
                }
            </tbody>

        </table>
    }
}

<script>
    jQuery(document).ready(function ($) {
        $(".clickable-row").click(function () {
            window.open($(this).data("href"), "_blank");

        });
    });
</script>
<link href="~/css/view.css" rel="stylesheet" />
